<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../styles/login.css">
    <link rel="stylesheet" href="../styles/index.css">
    <link rel="stylesheet" href="../styles/simulacao.css">
    <title>Calculadora Financeira</title>
    <link rel="shortcut icon" type="imagex/png" href="./assets/imagem_wasabi_login.png">
</head>

<link rel="stylesheet" href="https://use.typekit.net/tkx8ars.css">
<link rel="stylesheet" href="https://use.typekit.net/ysw8fpv.css">



<body style="background-color: rgb(205, 226, 199);">

    <header class="header">
        <div class="div_logo">
            <img src="../assets/logo.png" alt="logo wasabi">
        </div>
        <nav class="navbar">
            <span><a href="../index.html#section_home">Home</a></span>
            <span><a href="#">Simulação</a></span>
            <span><a href="./contato.html">Contato</a></span>
            <span><a href="../index.html#section_duvida">Dúvidas</a></span>
        </nav>
        <div class="div_authButtons">
            <a href="./login.html">Login</a>
            <a href="./cadastro.html">Registrar</a>
        </div>
    </header>


    <h1 class="titulo">Simulador Financeiro</h1>

    <div class="div_simulador">
        <div class="div_input">

            Quantidade de safras:
            <input type="number" id="input_qtdSafra" placeholder="Insira a quantidade de safras">

            Área média das plantações p/m²:
            <input type="number" id="input_qtdarea" placeholder="Insira o m²">

            Valor que será vendido quilo do wasabi:
            <input type="number" id="input_valwasabi" placeholder="Recomendação:2000 a 8000">

            Quantidade de wasabis por metro quadrado:
            <input type="number" id="input_wasabi_pm" placeholder="0.009m² a 0.35m²">

            Em que mês será plantado esse wasabi?<br>
            <select id="select_mescomeco">
                <option value="1">JAN</option>
                <option value="2">FEV</option>
                <option value="3">MAR</option>
                <option value="4">ABR</option>
                <option value="5">MAI</option>
                <option value="6">JUN</option>
                <option value="7">JUL</option>
                <option value="8">AGO</option>
                <option value="9">SET</option>
                <option value="10">OUT</option>
                <option value="11">NOV</option>
                <option value="12">DEZ</option>
            </select><br><br>

            <button onclick="calc()">Simular</button><br><br>
        </div>
        <div class="div_resultado">
            <h4>Resultado</h4>
            <div id="div_msg" class="container">
                Eficiência:<br>
                Total de unidades de Wasabi:<br>
                Total de peso de Wasabi:<br>
                Valor da venda de cada safra:<br>
                Faturamento:<br><br>
            </div>
            <h4>Com o nosso sistema</h4>
            <div id="div_fat" class="container">
                <p> Com o nosso serviço de monitoramento de </p>
                <p> umidade e temperatura você irá faturar: </p><br>
                <p><span>R$:<span style="color: #558C03;">000000</span></span></p>
            </div>
        </div>
    </div>
</body>

</html>

<script>


    function calc() {

        var qnt_safra = Number(input_qtdSafra.value);
        var qnt_area = Number(input_qtdarea.value);
        var valor_wasabi = Number(input_valwasabi.value);
        var mes_começo = Number(select_mescomeco.value);
        var wasabi_pm = Number(input_wasabi_pm.value);

        var temp_plant = 0;
        var umi_total = 0;
        var qnt_wasabi_total = (qnt_area * qnt_safra) / wasabi_pm;
        var qnt_wasabi_coletados = qnt_wasabi_total;
        var peso_wasabi = 280;

        if (valor_wasabi > 8000) {
            alert('Valor do Wasabi esta acima do padrão do mercado, você pode ter uma dificuldade de vendas')
        } else if (valor_wasabi < 2000) {
            alert('O valor de Wasabi esta abaixo do padrão de mercado... você pode aumentar esse valor')
        }
        if (wasabi_pm < 0.009) {
            alert('Esse espaçamento entre os wasabis é prejudicial à plantação')
        } else if (wasabi_pm > 0.035) {
            alert('Um espaçamento tão grande implica com a eficacia da plantação')
        }
        else {
            while (temp_plant < 18) {
                temp_plant += 1

                // Janeiro
                if (mes_começo == 1) {
                    umi_total = 75
                    mes_começo += 1
                    // Fevereiro
                } else if (mes_começo == 2) {
                    umi_total = 75
                    mes_começo += 1
                    // Março
                } else if (mes_começo == 3) {
                    umi_total = 72.5
                    mes_começo += 1
                    // Abril
                } else if (mes_começo == 4) {
                    umi_total = 67.5
                    mes_começo += 1
                    // Maio
                } else if (mes_começo == 5) {
                    umi_total = 62.5
                    mes_começo += 1
                    // Junho
                } else if (mes_começo == 6) {
                    umi_total = 55.5
                    mes_começo += 1
                    // Julho
                } else if (mes_começo == 7) {
                    umi_total = 50
                    mes_começo += 1
                    // Agosto    
                } else if (mes_começo == 8) {
                    umi_total = 45
                    mes_começo += 1
                    // Setembro
                } else if (mes_começo == 9) {
                    umi_total = 55
                    mes_começo += 1
                    // Outubro
                } else if (mes_começo == 10) {
                    umi_total = 65
                    mes_começo += 1
                    // Novembro
                } else if (mes_começo == 11) {
                    umi_total = 70
                    mes_começo += 1
                    // Dezembro
                } else if (mes_começo == 12) {
                    umi_total = 75
                    mes_começo += 1
                }
                if (mes_começo > 12) {
                    mes_começo = 1
                }
                if (umi_total < 60) {
                    qnt_wasabi_coletados -= 10
                    console.log('perde wasabi')
                } else {
                    console.log('não perde wasabi')
                }
            }
            var eficiencia = (qnt_wasabi_coletados * 100) / qnt_wasabi_total;
            var kg_wasabi = (qnt_wasabi_coletados * peso_wasabi) / 1000;
            var kg_wasabi_total = (qnt_wasabi_total * peso_wasabi) / 1000;
            var ganhos = (kg_wasabi * valor_wasabi) / (eficiencia / 100);
            var ganhos_total = (kg_wasabi_total * valor_wasabi) / (eficiencia / 100);
            var perda = ganhos_total - ganhos;
            var ganhos_safra = ganhos / qnt_safra;

            console.log(`${perda}`)
            div_msg.innerHTML = `
        Eficiência:  ${eficiencia.toFixed(2)}% <br>
        Total de unidades de Wasabi: ${qnt_wasabi_coletados.toFixed(0)}<br> 
        Total de peso de Wasabi: ${kg_wasabi.toFixed(2)}kg<br>
        Valor da venda de cada safra: R$${ganhos_safra.toFixed(2)} <br>
        Perda sem o sistema: R$${perda.toFixed(2)}<br><br> `

            div_fat.innerHTML = `
        <p> Com o nosso serviço de monitoramento de </p>
       <p> umidade e temperatura você irá faturar: </p><br>
       <p><span>R$:<span style="color: #558C03;">${ganhos_total.toFixed(2)}</span></span></p>`
        }
    }

</script>