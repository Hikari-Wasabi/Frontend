<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora Financeira</title>
</head>

<style>
    .titulo {
        color: green;
    }
    .divMsg {
        background-color: rgb(206, 205, 205);
    }
</style>

<body>
    <h1 class="titulo">Simulador Financeiro Hikari Wasabi</h1>
    <h3>Aqui você poderá simular o seu faturamento utilizando o nosso sistema.</h3>

    Digite a quantidade de safras:
    <input type="number" id="input_qtdSafra" placeholder="10"><br><br>

    Digite a quantidade de metros por safra:
    <input type="number" id="input_qtdarea" placeholder="150"><br><br>

    Digite o valor que será vendido quilo do wasabi:
    <input type="number" id="input_valwasabi" placeholder="Recomendação:2000 a 8000"><br><br>

    Em que mês será plantado esse wasabi?<br>
    <select  id="select_mescomeco">
        <option value="1">JAN</option>
        <option value="2">FEV</option>
        <option value="3">MAR</option>
        <option value="4">ABR</option>
        <option value="5">MAI</option>
        <option value="6">JUN</option>
        <option value="7">JUL</option>
        <option value="8">AGO</option>
        <option value="9">SET</option>
        <option value="10">OUT</option>
        <option value="11">NOV</option>
        <option value="12">DEZ</option>
    </select><br><br>

    <button onclick="calc()">Calcular faturamento</button><br><br>

    <div id="div_msg" class="divMsg"></div>

</body>
</html>

<script>
    // cenário ideal a aborvição da umidade do ar na areia e cascalho é de 80% 
    // um wasabi morre de 1 a 3 dias fora da umidade desejada
    // umidade minima para produção de wasabi é de 60%
    // uma unidade de wasabi será ocupa 0.09 metros quadrados
    
    
    function calc(){
        var qnt_safra = Number(input_qtdSafra.value)
        var qnt_area = Number(input_qtdarea.value)
        var valor_wasabi = Number(input_valwasabi.value)
        var mes_começo = Number(select_mescomeco.value)
        
        var temp_plant = 0;
        var umi_total = 0;
        var qnt_wasabi_total = (qnt_area * qnt_safra) / 0.09
        var qnt_wasabi_coletados = qnt_wasabi_total;
        var peso_wasabi = 280;

        if(valor_wasabi > 8000){
            alert('Valor do Wasabi esta acima do padrão do mercado, você pode ter uma dificuldade de vendas')
        }else if(valor_wasabi < 2000){
            alert('O valor de Wasabi esta abaixo do padrão de mercado... você pode aumentar esse valor')
        }

        while(temp_plant < 18){
            temp_plant += 1
            
            // Janeiro
            if(mes_começo == 1){
                umi_total = 75
                mes_começo +=1
                // Fevereiro
            }else if(mes_começo == 2){
                umi_total = 75
                mes_começo +=1
                // Março
            }else if(mes_começo == 3){
                umi_total = 72.5
                mes_começo +=1
                // Abril
            }else if(mes_começo == 4){
                umi_total = 67.5
                mes_começo +=1
                // Maio
            }else if(mes_começo == 5){
                umi_total = 62.5
                mes_começo +=1
                // Junho
            }else if(mes_começo == 6){
                umi_total = 55.5
                mes_começo +=1
                // Julho
            }else if(mes_começo == 7){
                umi_total = 50
                mes_começo +=1
                // Agosto    
            }else if(mes_começo == 8){
                umi_total = 45
                mes_começo +=1
                // Setembro
            }else if(mes_começo == 9){
                umi_total = 55
                mes_começo +=1
                // Outubro
            }else if(mes_começo == 10){
                umi_total = 65
                mes_começo +=1
                // Novembro
            }else if(mes_começo == 11){
                umi_total = 70
                mes_começo +=1
                // Dezembro
            }else if(mes_começo == 12){
                umi_total = 75
                mes_começo +=1 
            }
            if(mes_começo > 12){
                mes_começo = 1
            }
            if(umi_total < 60){
                qnt_wasabi_coletados -= 10
                console.log('perde wasabi')
            }else{
                console.log('não perde wasabi')
            }
        }
        var eficiencia = (qnt_wasabi_coletados * 100) / qnt_wasabi_total;
        var kg_wasabi = (qnt_wasabi_coletados * peso_wasabi) / 1000
        var ganhos = kg_wasabi * valor_wasabi
        var ganhos_safra = ganhos / qnt_safra

                div_msg.innerHTML = `<br> <h4> O seu faturamento sem a utilização do nosso sistema será de: </h4>
        Eficiência: <b> ${eficiencia.toFixed(2)}% </b> <br>
        Total de unidades de Wasabi: ${qnt_wasabi_coletados.toFixed(0)} <br>
        Total de peso de Wasabi: ${kg_wasabi.toFixed(2)}kg <br>
        Valor da venda de cada safra: R$${ganhos_safra.toFixed(2)} <br>
        Faturamento: <b> R$${ganhos.toFixed(2)} </b> <br><br>`

    }
    
</script>